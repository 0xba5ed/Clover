<!DOCTYPE html>
<html>
<head>
    <meta name=viewport content="width=device-width, initial-scale=1">
    <style type="text/css">
        #loadingCaptcha {
            font-family: sans-serif;
            font-size: 20px;
        }
    </style>
    <script src='https://www.google.com/recaptcha/api.js?onload=globalOnCaptchaLoaded&render=explicit'></script>
</head>
<body>
<div id="captcha-loading">Loading captcha...</div>
<div id="captcha-error"></div>
<div id="captcha-container"></div>

<script type="text/javascript">
window.globalOnCaptchaEntered = function(res) {
    CaptchaCallback.onCaptchaEntered(res);
}

window.globalOnCaptchaLoaded = function() {
    grecaptcha.render('captcha-container', {
        'sitekey': '__site_key__',
        'theme': '__theme__',
        'callback': globalOnCaptchaEntered
    });
    CaptchaCallback.onCaptchaLoaded();
    document.getElementById('captcha-loading').style.display = 'none';
}

window.onerror = function(message, url, line) {
    document.getElementById('captcha-error').appendChild(document.createTextNode(line + ': ' + message + ' @ ' + url));
}
</script>
</body>
</html>
